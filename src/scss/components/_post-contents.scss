@use 'sass:math';
@use 'sass:map';

@use 'abstracts' as *;

@mixin default($className: 'post-contents') {
  .c-#{$className} {
    .aligncenter {
      display: block;
      margin-right: auto;
      margin-left: auto;
    }
    .alignright {
      float: right;
      &::after {
        display: block;
        clear: both;
        content: '';
      }
    }
    .alignleft {
      float: left;
      &::after {
        display: block;
        clear: both;
        content: '';
      }
    }

    .wp-caption,
    [class*='wp-image'] {
      display: block;
      max-width: 100% !important;
      text-align: center;
    }
    [class*='wp-image'] {
      margin: 1em 0;
    }
    .wp-caption {
      padding: 0 0.5em;
    }
    .wp-caption-text {
      margin: 0.5em 0 0.5em;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      margin-top: 1.5em;
      margin-bottom: 1em;
    }

    h1 {
      padding: 4px 16px;
      font-size: rem(28px);
      background-color: var(--color-bg);
      border-left: 4px solid var(--color-primary);
    }

    h2 {
      padding: 4px 16px;
      font-size: rem(24px);
      background-color: var(--color-bg);
      border-left: 4px solid var(--color-primary);
    }

    h3 {
      padding-left: 16px;
      font-size: rem(20px);
      border-left: 4px solid var(--color-primary);
    }

    h4 {
      padding-left: 16px;
      font-size: rem(20px);
      border-left: 4px solid var(--color-line);
    }

    h5 {
      padding-bottom: 8px;
      font-size: rem(18px);
      border-bottom: solid 1px var(--color-line-weak);
    }

    h6 {
      padding-bottom: 8px;
      font-size: rem(16px);
      border-bottom: solid 1px var(--color-line-weak);
    }

    a {
      display: inline-block;
    }

    p {
      margin-top: 0px;
      margin-bottom: 1.5em;
    }

    small,
    sub,
    sup {
      font-size: 75%;
    }

    hr {
      border-color: var(--color-primary);
    }

    ul {
      padding-left: 1.5em;
      li {
        &::before {
          display: inline-block;
          width: 12px;
          height: 1lh;
          margin-right: 0.5em;
          margin-left: -1.5rem;
          vertical-align: middle;
          content: '';
          background-color: var(--color-primary);
          border-radius: 100vmax;
          @include mask-icon('<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><circle cx="6" cy="6" r="5.5" fill="none" stroke="black" stroke-width="1"/></svg>');
        }
      }
    }

    ol {
      padding-left: 1.5em;
      list-style: decimal;
    }

    blockquote {
      position: relative;
      z-index: 0;
      padding: 16px 40px;
      margin-right: 0px;
      margin-bottom: 2.5em;
      margin-left: 0px;
      background-color: var(--color-bg);
      @include mobile {
        padding: 16px 24px;
      }
      &::before,
      &::after {
        position: absolute;
        z-index: -1;
        width: 24px;
        height: 24px;
        pointer-events: none;
        content: '';
        background-color: var(--color-text);
        opacity: 0.2;
        @include mobile {
          opacity: 0.1;
        }
      }
      &::before {
        top: 8px;
        left: 8px;
        @include mask-icon('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M0 216C0 149.7 53.7 96 120 96l8 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-8 0c-30.9 0-56 25.1-56 56l0 8 64 0c35.3 0 64 28.7 64 64l0 64c0 35.3-28.7 64-64 64l-64 0c-35.3 0-64-28.7-64-64l0-32 0-32 0-72zm256 0c0-66.3 53.7-120 120-120l8 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-8 0c-30.9 0-56 25.1-56 56l0 8 64 0c35.3 0 64 28.7 64 64l0 64c0 35.3-28.7 64-64 64l-64 0c-35.3 0-64-28.7-64-64l0-32 0-32 0-72z"/></svg>');
      }
      &::after {
        right: 8px;
        bottom: 8px;
        @include mask-icon('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M448 296c0 66.3-53.7 120-120 120l-8 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l8 0c30.9 0 56-25.1 56-56l0-8-64 0c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l64 0c35.3 0 64 28.7 64 64l0 32 0 32 0 72zm-256 0c0 66.3-53.7 120-120 120l-8 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l8 0c30.9 0 56-25.1 56-56l0-8-64 0c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l64 0c35.3 0 64 28.7 64 64l0 32 0 32 0 72z"/></svg>');
      }
    }

    blockquote p {
      margin-bottom: 0;
    }

    img,
    video {
      max-width: 100%;
      height: auto;
      margin-top: 0px;
      margin-bottom: 2.5em;
    }

    /* Pre and Code */
    pre {
      display: block;
      padding: 1em;
      margin-top: 0px;
      margin-bottom: 2.5em;
      overflow-x: auto;
      font-size: 0.9em;
      background-color: var(--color-bg);
    }

    code,
    kbd,
    samp {
      padding: 0 0.5em;
      font-size: 0.9em;
      color: var(--color-primary-800);
      white-space: pre-wrap;
      background-color: var(--color-bg);
    }

    pre > code {
      padding: 0;
      font-size: 1em;
      white-space: pre;
      background-color: transparent;
    }

    /* Tables */
    table {
      width: 100%;
      margin-bottom: 2em;
      text-align: justify;
      border-collapse: collapse;
    }

    td,
    th {
      padding: 0.5em;
      border-bottom: 1px solid var(--color-line-weak);
    }

    /* Buttons, forms and input */
    input,
    textarea {
      border: 1px solid var(--color-line-weak);
    }
    input:focus,
    textarea:focus {
      border: 1px solid var(--color-primary);
    }

    textarea {
      width: 100%;
    }

    .button,
    button,
    input[type='submit'],
    input[type='reset'],
    input[type='button'],
    input[type='file']::file-selector-button {
      box-sizing: border-box;
      display: inline-block;
      padding: 8px 24px;
      color: var(--color-text);
      text-align: center;
      text-decoration: none;
      white-space: nowrap;
      cursor: pointer;
      background-color: var(--color-body);
      border: 1px solid var(--color-primary);
      border-radius: 1px;
      transition: 0.3s;
    }
    .button[disabled],
    button[disabled],
    input[type='submit'][disabled],
    input[type='reset'][disabled],
    input[type='button'][disabled],
    input[type='file']::file-selector-button[disabled] {
      cursor: default;
      opacity: 0.5;
    }
    .button:hover,
    button:hover,
    input[type='submit']:hover,
    input[type='reset']:hover,
    input[type='button']:hover,
    input[type='file']::file-selector-button:hover {
      color: var(--color-text);
      background-color: var(--color-primary);
      outline: 0;
    }
    .button:focus-visible,
    button:focus-visible,
    input[type='submit']:focus-visible,
    input[type='reset']:focus-visible,
    input[type='button']:focus-visible,
    input[type='file']::file-selector-button:focus-visible {
      outline-width: 2px;
      outline-style: solid;
    }

    textarea,
    select,
    input {
      box-sizing: border-box;
      padding: 6px 10px; /* The 6px vertically centers text on FF, ignored by Webkit */
      margin-bottom: 10px;
      color: var(--color-line-weak);
      background-color: var(--color-bg);
      border: 1px solid var(--color-bg);
      border-radius: 4px;
      box-shadow: none;
    }
    textarea:focus,
    select:focus,
    input:focus {
      border: 1px solid var(--color-primary);
      outline: 0;
    }

    input[type='checkbox']:focus {
      outline: 1px dotted var(--color-primary);
    }

    label,
    legend,
    fieldset {
      display: block;
      margin-bottom: 0.5em;
      font-weight: 600;
    }
  }
}
