@use 'sass:math';
@use 'abstracts' as *;

@mixin default($className: 'card01') {
  .c-#{$className} {
  }

  .c-#{$className}__inner {
    display: flex;
    gap: 24px 40px;
    align-items: center;
    padding: 16px;
    clip-path: polygon(22px 0, 100% 0, 100% 100%, 0 100%, 0 22px);
    border-bottom: 1px solid var(--color-line-weak);
    transition: 0.4s;
    @include mobile {
      flex-direction: column;
    }

    &:hover {
      background-color: var(--color-bg);
    }
  }

  .c-#{$className}__thumbnail {
    position: relative;
    z-index: 0;
    display: block;
    flex-shrink: 0;
    width: min(320px, 100%);
    overflow: hidden;
    clip-path: polygon(16px 0, 100% 0, 100% 100%, 0 100%, 0 16px);

    img {
      width: 100%;
      transition: 0.6s;
    }
  }

  a.c-#{$className}__thumbnail {
    $skew: 50%;

    &::before,
    &::after {
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
      width: 100%;
      height: 100%;
      clip-path: polygon(-100% 0, 0 0, ($skew * -1) 100%, ($skew * -1 - 100%) 100%);
      content: '';
    }

    &::before {
      background-color: var(--color-body);
      opacity: 0.6;
      transition: 0.4s;
    }

    &::after {
      background-color: var(--color-primary);
      mix-blend-mode: multiply;
      transition: 0.4s 0.1s;
    }

    &:hover {
      &::before,
      &::after {
        clip-path: polygon(0 0, (100% + $skew) 0, 100% 100%, ($skew * -1) 100%);
      }

      img {
        transform: scale(1.2) rotate(-5deg);
      }
    }
  }

  .c-#{$className}__pagination {
    position: absolute;
    bottom: 0;
    z-index: 1;
    display: flex;
    justify-content: center;
    width: 100%;

    .swiper-pagination-bullet {
      background-color: var(--color-text-weak);
      opacity: 1;
      &.swiper-pagination-bullet-active {
        background-color: var(--color-primary);
      }
    }
  }

  .c-#{$className}__arrow {
    position: absolute;
    top: calc(50% - 10px);
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    cursor: pointer;
    border: solid 1px currentColor;
    border-radius: var(--rounded-full);
    opacity: 0.8;
    transition: 0.3s;

    &:hover {
      color: var(--color-primary);
    }

    &::before {
      display: block;
      width: 6px;
      height: 10px;
      content: '';
      background-color: currentColor;
      @include mask-icon('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 4 6"><path fill-rule="evenodd" d="M.930803.870988C.829348.964639.823022 1.1228.916673 1.22426L2.56015 3.00469.916672 4.78512c-.09365.10146-.087324.25962.014132.35327.101456.09365.259616.08733.353266-.01413L3.2406 3.00469 1.28407.885119C1.19042.783664 1.03226.777337.930803.870988Z" clip-rule="evenodd"/></svg>');
    }

    &--prev {
      left: 8px;
      transform: scaleX(-1);
    }
    &--next {
      right: 8px;
    }
  }

  .c-#{$className}__body {
    display: flex;
    flex: 1 0 0;
    flex-direction: column;
    gap: 8px;
    align-items: flex-start;
    justify-content: center;
  }

  .c-#{$className}__info {
    display: flex;
    gap: 8px;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    font-size: rem(14px);
  }

  a.c-#{$className}__category {
    transition: 0.3s;
    &:hover {
      color: var(--color-primary);
    }
  }

  .c-#{$className}__date {
    margin-left: auto;
    color: var(--color-text-weak);
  }

  .c-#{$className}__title {
    font-size: rem(18px);
    font-weight: 400;
  }

  .c-#{$className}__link {
    background-image: linear-gradient(transparent calc(100% - 1px), var(--color-primary) 0);
    background-repeat: no-repeat;
    background-size: 0 100%;
    transition: 0.3s;
    transition: background-size 0.6s ease;
    &:hover {
      background-size: 100% 100%;
    }
  }

  .c-#{$className}__excerpt {
    font-size: rem(14px);
    font-weight: 400;
    color: var(--color-text-weak);
    @include line-clamp(2);
  }

  .c-#{$className}__date-info {
    display: flex;
    flex-wrap: wrap;
    gap: 4px 8px;
    align-items: flex-end;
    font-weight: 400;
  }

  .c-#{$className}__info-wday {
    margin-left: 4px;
    font-size: rem(14px);
  }

  .c-#{$className}__info-time {
    font-size: rem(14px);
  }
}

@mixin type02($className: 'card02') {
  .c-#{$className} {
  }

  .c-#{$className}__inner {
    position: relative;
    z-index: 0;
    gap: 24px 40px;
    padding: 16px;
    clip-path: polygon(22px 0, 100% 0, 100% 100%, 0 100%, 0 22px);
    border: 1px solid var(--color-line-weak);
    transition: 0.4s;

    &::before {
      position: absolute;
      top: 0;
      left: 0;
      width: 23px;
      height: 23px;
      clip-path: polygon(0 0, 100% 0, 0 100%);
      content: '';
      background-color: var(--color-line-weak);
    }

    &:hover {
      background-color: var(--color-bg);
    }

    @include mobile {
      flex-direction: column;
    }
  }

  .c-#{$className}__thumbnail {
    $skew: 50%;
    display: block;
    clip-path: polygon(16px 0, 100% 0, 100% 100%, 0 100%, 0 16px);
    img {
      width: 100%;
      transition: 0.6s;
    }

    &::before,
    &::after {
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
      width: 100%;
      height: 100%;
      clip-path: polygon(-100% 0, 0 0, ($skew * -1) 100%, ($skew * -1 - 100%) 100%);
      content: '';
    }

    &::before {
      background-color: var(--color-body);
      opacity: 0.6;
      transition: 0.4s;
    }

    &::after {
      background-color: var(--color-primary);
      mix-blend-mode: multiply;
      transition: 0.4s 0.1s;
    }

    &:hover {
      &::before,
      &::after {
        clip-path: polygon(0 0, (100% + $skew) 0, 100% 100%, ($skew * -1) 100%);
      }

      img {
        transform: scale(1.2) rotate(-5deg);
      }
    }
  }

  .c-#{$className}__body {
    display: grid;
    grid-template-areas:
      'title info'
      'excerpt excerpt';
    grid-template-columns: 1fr auto;
    gap: 8px;
    align-items: center;
    margin-top: 24px;
    @include mobile {
      grid-template-areas:
        'info info'
        'title title'
        'excerpt excerpt';
    }
  }

  .c-#{$className}__info {
    grid-area: info;
    font-size: rem(14px);
  }

  .c-#{$className}__date {
    color: var(--color-text-weak);
  }

  a.c-#{$className}__category {
    transition: 0.3s;
    &:hover {
      color: var(--color-primary);
    }
  }

  .c-#{$className}__title {
    grid-area: title;
    font-size: rem(18px);
    font-weight: 400;
  }

  .c-#{$className}__link {
    background-image: linear-gradient(transparent calc(100% - 1px), var(--color-primary) 0);
    background-repeat: no-repeat;
    background-size: 0 100%;
    transition: 0.3s;
    transition: background-size 0.6s ease;
    &:hover {
      background-size: 100% 100%;
    }
  }
  .c-#{$className}__excerpt {
    grid-area: excerpt;
    font-size: rem(14px);
    font-weight: 400;
    color: var(--color-text-weak);
    @include line-clamp(2);
  }
}
